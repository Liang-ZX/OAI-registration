

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>FAQ &#8212; pyKNEEr 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Development" href="development.html" />
  
  
  
   


  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="development.html" title="Development"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyKNEEr 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><!--
The following code is the original from the template
It writes a text at the top of the side bar that links to the home page

<a href="
    index.html" class="text-logo">pyKNEEr</a>
-->


<!--
This line add a figure at the top of the left side bar that links to the home page
The figure has to be in the folder "build" (not in the subfolder "html")
(I could not make the relative path to the folders "_figure" in "source" and "_images" in "build" work)
-->

<a href="index.html"><img src="pykneer_logo_for_website.png" style="width:253px;height:78px;"></a>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <!--<h2>Table Of Contents</h2> --> <!-- Modified by S.Bonaretti -->
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="segmentation.html">Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="morphology.html">Morphology</a></li>
<li class="toctree-l1"><a class="reference internal" href="relaxometry.html">Relaxometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a></li>
</ul>

    
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          <!-- # Commented out by S.Bonaretti - to avoid docs >> index etc.
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="index.html">Docs</a></li>
              
              <li>FAQ</li>
            </ol>
          </div>
          -->
          <div class="document clearer body">
            
  <div class="section" id="faq">
<span id="id1"></span><h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">Â¶</a></h1>
<p><a class="reference internal" href="#name"><span class="std std-ref">Why the name pyKNEEr?</span></a></p>
<p><a class="reference internal" href="#terminal"><span class="std std-ref">Which terminal?</span></a></p>
<p><a class="reference internal" href="#elastix"><span class="std std-ref">How do I set the environmental variables for elastix?</span></a></p>
<p><a class="reference internal" href="#cores"><span class="std std-ref">How do I choose the number of cores?</span></a></p>
<p><a class="reference internal" href="#faqlaterality"><span class="std std-ref">How do I determine knee laterality?</span></a></p>
<p id="howtojupyter"><a class="reference internal" href="#launch-jup"><span class="std std-ref">How do I launch Jupyter notebook?</span></a></p>
<p><a class="reference internal" href="#run-jup"><span class="std std-ref">How do I run a Jupyter notebook?</span></a></p>
<p><a class="reference internal" href="#save-jup"><span class="std std-ref">How do I save a Jupyter notebook?</span></a></p>
<p><a class="reference internal" href="#virtualenv-what"><span class="std std-ref">What is a virtual environment?</span></a></p>
<p><a class="reference internal" href="#virtualenv-how"><span class="std std-ref">How do I create a virtual environment?</span></a></p>
<p><a class="reference internal" href="#update"><span class="std std-ref">How do I update pyKNEEr?</span></a></p>
<p><a class="reference internal" href="#itksnap"><span class="std std-ref">What is ITK-SNAP?</span></a></p>
<p><a class="reference internal" href="#itksnapcompare"><span class="std std-ref">How do I compare 3D images in ITK-SNAP?</span></a></p>
<p><a class="reference internal" href="#itksnapmask"><span class="std std-ref">How do I visualize a segmentation in ITK-SNAP?</span></a></p>
<p><a class="reference internal" href="#analysis"><span class="std std-ref">How do run subsequent analysis?</span></a></p>
<p><a class="reference internal" href="#issues"><span class="std std-ref">Issues?</span></a></p>
<p><a class="reference internal" href="#citation"><span class="std std-ref">How do I cite pyKNEEr?</span></a></p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p id="name"><strong>Why the name pyKNEEr?</strong></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">py</span></code> is for python, <code class="docutils literal notranslate"><span class="pre">KNEE</span></code> is for femoral knee cartilage, and <code class="docutils literal notranslate"><span class="pre">r</span></code> is for reproducibility</p>
<p>It is pronounced like <em>pioneer</em> without the <em>o</em></p>
</div></blockquote>
<p id="terminal"><strong>Which terminal?</strong></p>
<blockquote>
<div><dl class="simple">
<dt>MacOS:</dt><dd><p>Open the terminal: Applications <span class="math notranslate nohighlight">\(\rightarrow\)</span> Utilities <span class="math notranslate nohighlight">\(\rightarrow\)</span> Terminal</p>
</dd>
<dt>Windows:</dt><dd><p>Open the Anaconda prompt: Start Menu <span class="math notranslate nohighlight">\(\rightarrow\)</span> Anaconda <span class="math notranslate nohighlight">\(\rightarrow\)</span> Anaconda Prompt</p>
</dd>
</dl>
</div></blockquote>
<p id="elastix"><strong>How do I set the environmental variables for elastix?</strong></p>
<blockquote>
<div><p>The instructions below are modified from the <em>elastix</em> <a class="reference external" href="https://blog.yuwu.me/wp-content/uploads/2017/10/elastix_manual_v4.8.pdf">manual</a> (pag. 18).</p>
<ul>
<li><p>Look for the location of <em>pyKNEEr</em> on your computer. Open your <a class="reference internal" href="#terminal"><span class="std std-ref">terminal</span></a> and type:
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">show</span> <span class="pre">pykneer</span></code>.</p>
<p>Look for the path in <em>Location</em>. In the following, we will call this path <code class="docutils literal notranslate"><span class="pre">&lt;location&gt;</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;location&gt;</span> <span class="pre">=</span> <span class="pre">/anaconda3/lib/python3.7/site-packages</span></code>)</p>
</li>
</ul>
<dl>
<dt>Linux:</dt><dd><p><em>elastix</em> is in the folder <code class="docutils literal notranslate"><span class="pre">&lt;location&gt;/Linux/</span></code></p>
<p>To add <em>elastix</em> to the environmental variables of your computer, in <a class="reference internal" href="#terminal"><span class="std std-ref">terminal</span></a> type:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span></code> to go to your home directory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">.bash_profile</span></code> to create (or open if already existing) your profile file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">PATH=&lt;location&gt;/Linux/:$PATH</span></code>
<code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">LD_LIBRARY_PATH=&lt;location&gt;/Linux/:$LD_LIBRARY_PATH</span></code></p>
<p>substituting &lt;location&gt; with <strong>your</strong> <code class="docutils literal notranslate"><span class="pre">&lt;location&gt;/Linux/</span></code> to both commands. These two lines add the <em>elastix</em> path to the environmental variables of your computer</p>
</li>
<li><p>Save changes and close file by pressing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctrl</span></code> + <code class="docutils literal notranslate"><span class="pre">o</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enter</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ctrl</span></code> + <code class="docutils literal notranslate"><span class="pre">x</span></code></p></li>
</ul>
</li>
<li><p>Activate changes by typing:</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">.bash_profile</span></code></p>
</li>
</ul>
</dd>
<dt>Windows:</dt><dd><p><em>elastix</em> is in the folder <code class="docutils literal notranslate"><span class="pre">&lt;location&gt;/Windows/</span></code></p>
<p>To add <em>elastix</em> to the environmental variables of your computer:</p>
<ul class="simple">
<li><p>Go to the control panel</p></li>
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">System</span></code></p></li>
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">Advanced</span> <span class="pre">system</span> <span class="pre">settings</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Environmental</span> <span class="pre">variables</span></code></p></li>
<li><p>Add the folder <code class="docutils literal notranslate"><span class="pre">&lt;location&gt;/Windows/</span></code> (using <strong>your</strong> own location ) to the variable <code class="docutils literal notranslate"><span class="pre">path</span></code></p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<p id="cores"><strong>How do I choose the number of cores?</strong></p>
<blockquote>
<div><dl>
<dt>MacOS:</dt><dd><p>Open your <a class="reference internal" href="#terminal"><span class="std std-ref">terminal</span></a> and type:</p>
<p><code class="docutils literal notranslate"><span class="pre">sysctl</span> <span class="pre">hw.physicalcpu</span> <span class="pre">hw.logicalcpu</span></code></p>
<p>You will get something like this:</p>
<p><code class="docutils literal notranslate"><span class="pre">hw.physicalcpu:</span> <span class="pre">2</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">hw.logicalcpu:</span> <span class="pre">4</span></code></p>
<p>In this example, this Mac has 2 physical (harware) cores and 4 logical (virtual) cores, as for every physical core there are two logical cores.
It is recommended not to use all your cores, so you can keep using your laptop while <em>pyKNEEr</em> is computing.
For example, if your Mac has 4 logical core, you can use 3 for <em>pyKNEEr</em></p>
</dd>
<dt>Windows:</dt><dd><p>coming soon!</p>
</dd>
</dl>
</div></blockquote>
<p id="faqlaterality"><strong>How do I determine knee laterality?</strong></p>
<blockquote>
<div><p>A practical way to determine knee laterality in <em>pyKNEEr</em> coordinate system is by considering the position of the fibula next to the tibia:</p>
<ul class="simple">
<li><p>If the fibula is on the right side of the tibia, the knee laterality is <em>left</em></p></li>
<li><p>If the fibula is on the left side of the tibia, the knee laterality is <em>right</em></p></li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/laterality.png"><img alt="_images/laterality.png" src="_images/laterality.png" style="width: 581.6px; height: 330.40000000000003px;" /></a>
</div>
</div></blockquote>
<p id="launch-jup"><strong>How do I launch Jupyter notebook?</strong></p>
<blockquote>
<div><p>Open Anaconda and click <code class="docutils literal notranslate"><span class="pre">Launch</span></code> under the JupyterLab icon</p>
</div></blockquote>
<p id="run-jup"><strong>How do I run a Jupyter notebook?</strong></p>
<blockquote>
<div><p>Click in the cell, and then:</p>
<ul class="simple">
<li><p>MacOS: press <code class="docutils literal notranslate"><span class="pre">return</span></code> + <code class="docutils literal notranslate"><span class="pre">shift</span></code></p></li>
<li><p>Windows: press <code class="docutils literal notranslate"><span class="pre">enter</span></code> + <code class="docutils literal notranslate"><span class="pre">shift</span></code></p></li>
</ul>
</div></blockquote>
<p id="save-jup"><strong>How do I save a Jupyter notebook?</strong></p>
<blockquote>
<div><p>You can save the notebook as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> (File <span class="math notranslate nohighlight">\(\rightarrow\)</span> Save Notebook As): Text, cells, and output are still editable</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.html</span></code>, <code class="docutils literal notranslate"><span class="pre">.pdf</span></code>, etc. (File <span class="math notranslate nohighlight">\(\rightarrow\)</span> Export Notebook As): Text, cells, and outputs are not editable</p></li>
</ul>
</div></blockquote>
<p id="virtualenv-what"><strong>What is a virtual environment?</strong></p>
<blockquote>
<div><p>A virtual environment is like an uncontaminated island on your computer that contains the code of your current project.
It allows you to avoid conflicts among projects that could be due to different versions of packages and dependences, and thus implies less issues when running code.
Creating a virtual environment is not compulsory, but highly recommended</p>
</div></blockquote>
<p id="virtualenv-how"><strong>How do I create a virtual environment?</strong></p>
<blockquote>
<div><dl class="simple">
<dt>MacOS:</dt><dd><p>Open the terminal: Applications <span class="math notranslate nohighlight">\(\rightarrow\)</span> Utilities <span class="math notranslate nohighlight">\(\rightarrow\)</span> Terminal</p>
</dd>
<dt>Windows:</dt><dd><p>Open the Anaconda prompt: Start Menu <span class="math notranslate nohighlight">\(\rightarrow\)</span> Anaconda <span class="math notranslate nohighlight">\(\rightarrow\)</span> Anaconda Prompt</p>
</dd>
</dl>
<p>Type the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install the package to create virtual environments</span>
  conda install virtualenv

<span class="c1"># go to your chosen folder</span>
<span class="c1"># MacOS:</span>
  <span class="nb">cd</span> /Users/.../yourFolder
<span class="c1"># Windows:</span>
  <span class="nb">cd</span> C:<span class="se">\.</span>..<span class="se">\y</span>ourFolder

<span class="c1"># create the virtual environment</span>
  virtualenv yourFolder

<span class="c1"># activate the virtual environment</span>
<span class="c1"># MacOS:</span>
  <span class="nb">source</span> yourFolder/bin/activate
<span class="c1"># Windows</span>
  - go to the folder: C:<span class="se">\.</span>..<span class="se">\y</span>ourFolder<span class="se">\</span>
  - double-click on activate.bat
</pre></div>
</div>
</div></blockquote>
<blockquote id="update">
<div><p><strong>How do I update pyKNEEr?</strong></p>
<blockquote>
<div><p>To update to the latest version of <em>pyKNEEr</em>, go to <a class="reference internal" href="#terminal"><span class="std std-ref">terminal</span></a> and type:
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pykneer</span> <span class="pre">--upgrade</span></code></p>
<p>To check the new version number, type:</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">show</span> <span class="pre">pykneer</span></code></p>
</div></blockquote>
</div></blockquote>
<p id="itksnap"><strong>What is ITK-SNAP?</strong></p>
<blockquote>
<div><p>ITK-SNAP is a software for image processing that has an excellent interface to visualize segmented images. All the images and masks created in this framework are in metafile format (<code class="docutils literal notranslate"><span class="pre">.mha</span></code>), and they can be easily visualized with ITK-SNAP.
Download the latest release <a class="reference external" href="http://www.itksnap.org/pmwiki/pmwiki.php?n=Downloads.SNAP3">here</a>.</p>
</div></blockquote>
<p id="itksnapcompare"><strong>How do I compare 3D images in ITK-SNAP?</strong></p>
<blockquote>
<div><p>Open ITK-SNAP and load:</p>
<ul class="simple">
<li><p>The original image: Go to <code class="docutils literal notranslate"><span class="pre">File</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">Main</span> <span class="pre">Image</span></code>, and select your image <code class="docutils literal notranslate"><span class="pre">*_orig.mha</span></code> (you can also drag and drop the image)</p></li>
<li><p>The preprocessed imaged: Go to <code class="docutils literal notranslate"><span class="pre">File</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">another</span> <span class="pre">image</span></code>, and select the corresponding image <code class="docutils literal notranslate"><span class="pre">*_prep.mha</span></code> (you can also drag and drop the image, and click <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">as</span> <span class="pre">additional</span> <span class="pre">image</span></code>)</p></li>
</ul>
<p>To visualize the two images next to each other, toggle to tiled layout by clicking the middle icon in the top-right side of the viewer.</p>
</div></blockquote>
<p id="itksnapmask"><strong>How do I visualize a segmentation in ITK-SNAP?</strong></p>
<blockquote>
<div><p>Open ITK-SNAP and load:</p>
<ul class="simple">
<li><p>The original image: Go to <code class="docutils literal notranslate"><span class="pre">File</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">Main</span> <span class="pre">Image</span></code>, and select <code class="docutils literal notranslate"><span class="pre">*_prep.mha</span></code> (you can also drag and drop the image)</p></li>
<li><p>The cartilage mask: Go to <code class="docutils literal notranslate"><span class="pre">Segmentation</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">Segmentation</span></code>, and select <code class="docutils literal notranslate"><span class="pre">*_prep_fc.mha</span></code> (you can also drag and drop the image, and click <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">as</span> <span class="pre">segmentation</span></code>).</p></li>
</ul>
</div></blockquote>
<p id="analysis"><strong>How do run subsequent analysis?</strong></p>
<blockquote>
<div><p>You can find examples of subsequent analysis in our <a class="reference internal" href="#citation"><span class="std std-ref">paper</span></a> (see Fig. 4)</p>
</div></blockquote>
<p id="issues"><strong>Issues?</strong></p>
<blockquote>
<div>Ask your questions  <a href="https://github.com/sbonaretti/pyKNEEr/issues" target="_blank">here</a></div></blockquote>
<p id="citation"><strong>How do I cite pyKNEEr?</strong></p>
<blockquote>
<div><p>You can cite paper, code, and data:</p>
<i>Paper</i>: <br>
Bonaretti S., Gold G., Beaupre G. <i>pyKNEEr: An image analysis workflow for open and reproducible research on femoral knee cartilage</i>.
<a href="https://doi.org/10.1101/556423" target="_blank">bioRxiv 10.1101/556423 2019</a> <br />

<br>

<i>Code</i>:
<br>
Bonaretti S. "pyKNEEr". Zenodo. 2019. 10.5281/zenodo.2574171
<a href="https://doi.org/10.5281/zenodo.2574171"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.2574171.svg" alt="DOI"></a>
<br>

<i>Data</i>: <br>
Dataset in (Bonaretti S. et al. 2019). Zenodo. 10.5281/zenodo.2583184
<a href="https://doi.org/10.5281/zenodo.2583184"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.2583184.svg" alt="DOI"></a></div></blockquote>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="development.html" title="previous chapter (use the left arrow)">Development</a>
      </div>
    
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="development.html" title="Development"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyKNEEr 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2018, Serena Bonaretti. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-135735296-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>